<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>psst</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #f6b3c6;
  overflow: hidden;
  cursor: pointer;
}

#slideshow, #main {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

#slideshow img {
  max-width: 80%;
  max-height: 80%;
}

.hidden {
  display: none;
}

#title {
  position: absolute;
  top: 30px;
  font-size: 48px;
  font-family: serif;
  color: #fff;
  z-index: 5;
}

.floating {
  position: absolute;
  width: 140px;
  cursor: grab;
  user-select: none;
}

#bow {
  position: absolute;
  bottom: 60px;
  display: flex;
  gap: 10px; /* closer together */
  z-index: 10;
}

#bow img {
  width: 140px;
}
</style>
</head>

<body>

<div id="slideshow">
  <img id="slide" src="slide1.png">
</div>

<div id="main" class="hidden">
  <div id="title">happy birthday annie</div>

  <div id="bow">
    <img src="bowleft.png">
    <img src="bowright.png">
  </div>
</div>

<audio id="wow" src="wow.mp3"></audio>

<script>
/* ---------- slideshow ---------- */
const slides = [
  "slide1.png",
  "slide2.png",
  "slide3.png",
  "slide4.png",
  "slide5.png"
];

let slideIndex = 0;
const slideEl = document.getElementById("slide");
const slideshow = document.getElementById("slideshow");
const main = document.getElementById("main");

document.body.addEventListener("click", () => {
  if (slideshow.classList.contains("hidden")) return;

  slideIndex++;
  if (slideIndex < slides.length) {
    slideEl.src = slides[slideIndex];
  } else {
    slideshow.classList.add("hidden");
    main.classList.remove("hidden");
    spawnFloatingImages();
  }
});

/* ---------- floating images ---------- */
const floatingPics = [
  "pic2.png","pic3.png","pic4.png","pic5.png","pic6.png","pic7.png",
  "pic8.png","pic9.png","pic10.png","pic11.png","pic12.png","pic13.png",
  "pic14.png","pic15.png","pic16.png","pic18.png","pic19.png","pic20.png",
  "pic21.png","pic22.png","pic23.png","pic24.png","pic25.png","pic26.png",
  "pic28.png","pic29.png","pic30.png","pic31.png","pic32.png","pic33.png",
  "pic34.png","pic35.png","pic36.png","pic38.png","pic39.png","pic40.png",
  "pic41.png","pic42.png","pic43.png","pic44.png","pic45.png"
];

function spawnFloatingImages() {
  floatingPics.forEach(src => {
    const img = document.createElement("img");
    img.src = src;
    img.className = "floating";
    img.style.left = Math.random() * (window.innerWidth - 150) + "px";
    img.style.top = Math.random() * (window.innerHeight - 200) + "px";

    makeDraggable(img);
    main.appendChild(img);
  });
}

/* ---------- drag logic ---------- */
function makeDraggable(el) {
  let offsetX, offsetY, dragging = false;

  el.addEventListener("mousedown", e => {
    dragging = true;
    offsetX = e.clientX - el.offsetLeft;
    offsetY = e.clientY - el.offsetTop;
    el.style.cursor = "grabbing";
  });

  document.addEventListener("mousemove", e => {
    if (!dragging) return;
    el.style.left = e.clientX - offsetX + "px";
    el.style.top = e.clientY - offsetY + "px";
  });

  document.addEventListener("mouseup", () => {
    dragging = false;
    el.style.cursor = "grab";
  });
}

/* ---------- bow sound ---------- */
document.getElementById("bow").addEventListener("click", e => {
  e.stopPropagation();
  document.getElementById("wow").play();
});
</script>

</body>
</html>
