<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Annie</title>

<style>
html,body{
  margin:0;padding:0;width:100%;height:100%;
  background:#ffd7e8;overflow:hidden;
  font-family:"Comic Sans MS",cursive;
  cursor:pointer;
}
#app{width:100%;height:100%;position:relative}

/* slides */
.slide{position:absolute;inset:0;display:none;justify-content:center;align-items:center}
.slide img{max-width:70%;max-height:70%}

/* bow */
#bow{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%);
  display:none;gap:8px;z-index:5
}
#bow img{width:160px;transition:.6s}
#bow img:first-child{margin-right:-6px}
#bow img:last-child{margin-left:-6px}
#bow.untie img:first-child{transform:translateX(-220px) rotate(-20deg);opacity:0}
#bow.untie img:last-child{transform:translateX(220px) rotate(20deg);opacity:0}

/* door */
#door{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%);
  display:none;max-width:300px;z-index:4
}

/* main */
#main{display:none;width:100%;height:100%;position:relative}
#title{
  position:absolute;top:8%;left:50%;
  transform:translateX(-50%);
  font-size:3em;color:white;
  text-shadow:2px 2px 6px #ff9ed9
}

/* floating */
.float{
  position:absolute;width:90px;
  animation:float 4s ease-in-out infinite alternate;
  cursor:grab
}
@keyframes float{from{transform:translateY(0)}to{transform:translateY(-25px)}}

/* feeding game overlay */
#overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(255,215,232,.92);
  z-index:999;
  justify-content:center;
  align-items:center
}
#game{
  position:relative;
  width:520px;height:360px;
  background:#ffb6d9;border-radius:14px
}
#exit{
  position:absolute;top:8px;right:12px;
  font-size:22px;color:white;cursor:pointer
}
#cat{position:absolute;left:40px;bottom:40px;width:180px}
#cake{position:absolute;right:110px;bottom:80px;width:90px}
#knife{position:absolute;right:40px;bottom:80px;width:60px}
#slice{
  position:absolute;width:90px;
  display:none;pointer-events:none
}
</style>
</head>

<body>
<div id="app"></div>

<audio id="ribbonSound" src="ribbon.mp3"></audio>
<audio id="doorSound" src="doorwow.mp3"></audio>

<div id="overlay">
  <div id="game">
    <div id="exit">✕</div>
    <img id="cat" src="cat_standing.png">
    <img id="cake" src="cake_full.png">
    <img id="knife" src="knife.png">
    <img id="slice" src="cake_slice.png">
  </div>
</div>

<script>
/* ---------- base site ---------- */
const app=document.getElementById("app");
const ribbonSound=document.getElementById("ribbonSound");
const doorSound=document.getElementById("doorSound");

/* slides */
const slides=["slide1.png","slide2.png","slide3.png","slide4.png","slide5.png"];
let slideIndex=0;
slides.forEach((src,i)=>{
  const d=document.createElement("div");
  d.className="slide";
  if(i===0)d.style.display="flex";
  const img=document.createElement("img");
  img.src=src;
  d.appendChild(img);
  app.appendChild(d);
});
const slideEls=document.querySelectorAll(".slide");

/* bow */
const bow=document.createElement("div");
bow.id="bow";
bow.innerHTML=`<img src="bowleft.png"><img src="bowright.png">`;
app.appendChild(bow);

/* door */
const door=document.createElement("img");
door.id="door";
door.src="doorclosed.png";
app.appendChild(door);

/* main */
const main=document.createElement("div");
main.id="main";
main.innerHTML=`<div id="title"></div>`;
app.appendChild(main);

/* FLOATING IMAGES — RESTORED FULL LIST */
const pics=[
  "pic2.png","pic3.png","pic4.png","pic5.png","pic6.png","pic7.png",
  "pic8.png","pic9.png","pic10.png","pic11.png","pic12.png","pic13.png",
  "pic14.png","pic15.png","pic16.png","pic18.png","pic19.png","pic20.png",
  "pic21.png","pic22.png","pic23.png","pic24.png","pic25.png","pic26.png",
  "pic28.png","pic29.png","pic30.png","pic31.png","pic32.png","pic33.png",
  "pic34.png","pic35.png","pic36.png","pic38.png","pic39.png","pic40.png",
  "pic41.png","pic42.png","pic43.png","pic44.png","pic45.png"
];

pics.forEach(src=>{
  const img=document.createElement("img");
  img.src=src;
  img.className="float";
  img.style.left=Math.random()*85+"%";
  img.style.top=Math.random()*75+"%";
  main.appendChild(img);
});

/* typewriter */
function typewriter(){
  const t=document.getElementById("title");
  const text="Happy Birthday Annie";
  let i=0,f=true;
  setInterval(()=>{
    t.textContent=text.slice(0,f?++i:--i);
    if(i>=text.length)f=false;
    if(i<=0)f=true;
  },150);
}

/* progression */
let mainShown=false;
document.body.onclick=()=>{
  if(mainShown)return;
  if(slideIndex<slides.length-1){
    slideEls[slideIndex++].style.display="none";
    slideEls[slideIndex].style.display="flex";
    return;
  }
  slideEls[slideIndex].style.display="none";
  bow.style.display="flex";
  door.style.display="block";
};

bow.onclick=e=>{
  e.stopPropagation();
  ribbonSound.currentTime=0;
  ribbonSound.play();
  bow.classList.add("untie");
  setTimeout(()=>bow.style.display="none",700);
};

door.onclick=e=>{
  e.stopPropagation();
  doorSound.currentTime=0;
  doorSound.play();
  door.src="dooropen.png";
  setTimeout(()=>{
    door.style.display="none";
    main.style.display="block";
    mainShown=true;
    typewriter();
  },1000);
};

/* ---------- feeding game (unchanged) ---------- */
/* your existing feeding logic stays exactly as before */
</script>
</body>
</html>
