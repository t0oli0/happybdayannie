/* ===============================
   SAFE ADD-ONS (ISOLATED)
   =============================== */

/* ---------- SPOTIFY (pic11) ---------- */
(function(){
  const overlay = document.createElement("div");
  overlay.style.cssText = `
    position:fixed;inset:0;display:none;
    background:rgba(255,215,232,.95);
    z-index:9999;justify-content:center;align-items:center`;
  overlay.innerHTML = `
    <div style="position:relative">
      <div style="position:absolute;top:-10px;right:-10px;
        background:#ff9ed9;color:#fff;width:32px;height:32px;
        border-radius:50%;text-align:center;line-height:32px;
        cursor:pointer" id="spClose">✕</div>
      <iframe style="border-radius:12px"
        src="https://open.spotify.com/embed/playlist/0zxE4sI9k9ldR12Q4fImLc"
        width="380" height="380" frameborder="0"
        allow="encrypted-media"></iframe>
    </div>`;
  document.body.appendChild(overlay);
  document.getElementById("spClose").onclick=()=>overlay.style.display="none";

  if(window.pic11){
    pic11.addEventListener("click",e=>{
      e.stopPropagation();
      overlay.style.display="flex";
    });
  }
})();

/* ---------- PHOTOS OF US (pic32) ---------- */
(function(){
  const photos=[
    "photos of us (1).JPEG","photos of us (1).jpg","photos of us (1).png",
    "photos of us (2).JPEG","photos of us (2).jpg","photos of us (2).png",
    "photos of us (3).JPEG","photos of us (3).JPG","photos of us (3).png",
    "photos of us (4).JPEG","photos of us (4).jpg","photos of us (4).png",
    "photos of us (5).JPEG","photos of us (5).jpg","photos of us (5).PNG",
    "photos of us (6).JPEG","photos of us (6).jpg","photos of us (6).PNG",
    "photos of us (7).JPEG","photos of us (7).jpg","photos of us (7).PNG",
    "photos of us (8).JPEG","photos of us (8).jpg","photos of us (8).png",
    "photos of us (9).JPEG","photos of us (9).jpg","photos of us (9).png",
    "photos of us (10).JPEG","photos of us (10).jpg",
    "photos of us (11).JPEG","photos of us (11).jpg",
    "photos of us (12).JPEG","photos of us (12).jpg",
    "photos of us (13).JPEG","photos of us (13).jpg",
    "photos of us (14).JPEG","photos of us (14).jpg",
    "photos of us (15).JPEG","photos of us (15).jpg",
    "photos of us (16).jpeg","photos of us (16).jpg",
    "photos of us (17).JPEG","photos of us (17).jpg",
    "photos of us (18).JPEG","photos of us (18).jpg",
    "photos of us (19).jpg","photos of us (20).jpg","photos of us (21).jpg"
  ];

  const overlay=document.createElement("div");
  overlay.style.cssText=`
    position:fixed;inset:0;display:none;
    background:rgba(255,215,232,.95);
    z-index:9999`;
  const box=document.createElement("div");
  box.style.cssText="position:relative;width:100%;height:100%";
  overlay.appendChild(box);

  const close=document.createElement("div");
  close.textContent="✕";
  close.style.cssText=`
    position:absolute;top:20px;right:20px;
    background:#ff9ed9;color:#fff;
    width:32px;height:32px;border-radius:50%;
    text-align:center;line-height:32px;
    cursor:pointer`;
  close.onclick=()=>overlay.style.display="none";
  box.appendChild(close);

  document.body.appendChild(overlay);

  if(window.pic32){
    pic32.addEventListener("click",e=>{
      e.stopPropagation();
      overlay.style.display="block";
      box.querySelectorAll(".polaroid").forEach(p=>p.remove());

      photos.forEach(src=>{
        const img=new Image();
        img.onload=()=>{
          const p=document.createElement("div");
          p.className="polaroid";
          p.style.position="absolute";
          p.style.left=Math.random()*70+"%";
          p.style.top=Math.random()*70+"%";
          p.style.transform=`rotate(${Math.random()*10-5}deg)`;
          img.style.width="160px";
          p.appendChild(img);
          box.appendChild(p);
        };
        img.src=src;
      });
    });
  }
})();
